<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>FikFinder – Fuel Analysis</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#0b1220;
  --panel:#111827;
  --card:#1f2933;
  --accent:#ff8c1a;
  --green:#16a34a;
  --yellow:#facc15;
  --red:#dc2626;
  --muted:#9ca3af;
  --radius:16px;
}

*{box-sizing:border-box;margin:0;padding:0;font-family:Poppins,sans-serif}
body{
  background:linear-gradient(180deg,#0b1220,#020617);
  color:#fff;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}

.app{
  width:100%;
  max-width:420px;
  padding:20px;
}

.screen{
  display:none;
  flex-direction:column;
  align-items:center;
  animation:fade .35s ease;
}
.screen.active{display:flex}

@keyframes fade{
  from{opacity:0;transform:translateY(8px)}
  to{opacity:1;transform:translateY(0)}
}

.logo{
  font-size:34px;
  font-weight:700;
  background:linear-gradient(90deg,#ff8c1a,#ffb84d);
  -webkit-background-clip:text;
  color:transparent;
  margin-bottom:12px;
}

.sub{
  color:var(--muted);
  font-size:14px;
  margin-bottom:22px;
  text-align:center;
}

h2{margin-bottom:16px}

input,select{
  width:100%;
  padding:12px;
  margin-bottom:12px;
  border:none;
  border-radius:var(--radius);
  background:var(--card);
  color:#fff;
}

input[type=range]{padding:0}

button{
  width:100%;
  padding:14px;
  border:none;
  border-radius:var(--radius);
  font-weight:600;
  cursor:pointer;
  margin-top:10px;
}

.primary{background:var(--accent)}
.secondary{background:#334155}
.next{background:var(--green)}

button:disabled{opacity:.5}

.progress{
  width:100%;
  height:6px;
  background:#1f2937;
  border-radius:10px;
  margin-bottom:16px;
  overflow:hidden;
}
.progress div{
  height:100%;
  width:0%;
  background:var(--accent);
  transition:.3s;
}

.form-step{display:none;width:100%}
.form-step.active{display:block}

.label{
  text-align:left;
  font-size:13px;
  color:var(--muted);
  margin-bottom:6px;
}

.upload{
  border:2px dashed #475569;
  border-radius:16px;
  padding:20px;
  text-align:center;
  color:#94a3b8;
  cursor:pointer;
  margin-bottom:12px;
}

.upload img{
  max-width:100%;
  border-radius:12px;
  margin-top:10px;
}

.status{
  width:100%;
  padding:20px;
  border-radius:16px;
  text-align:center;
  font-size:22px;
  font-weight:700;
  margin:16px 0;
}

.summary{
  width:100%;
  background:var(--panel);
  border-radius:16px;
  padding:16px;
  font-size:14px;
}
.summary p{margin:6px 0;color:#e5e7eb}
.summary span{color:#fff;font-weight:500}

@media(max-width:400px){
  .app{padding:16px}
}
</style>
</head>

<body>
<div class="app">

<!-- Splash -->
<section id="splash" class="screen active">
  <div class="logo">FikFinder</div>
  <p class="sub">Evaluate fuel authenticity with confidence</p>
  <button class="primary" onclick="show('login')">Login</button>
  <button class="secondary" onclick="show('signup')">Sign Up</button>
</section>

<!-- Login -->
<section id="login" class="screen">
  <h2>Login</h2>
  <input id="loginEmail" placeholder="Email">
  <input type="password" placeholder="Password">
  <button class="primary" onclick="login()">Login</button>
  <button class="secondary" onclick="show('splash')">Back</button>
</section>

<!-- Signup -->
<section id="signup" class="screen">
  <h2>Create Account</h2>
  <input id="signupName" placeholder="Full name">
  <input placeholder="Email">
  <input type="password" placeholder="Password">
  <button class="primary" onclick="signup()">Sign Up</button>
  <button class="secondary" onclick="show('splash')">Back</button>
</section>

<!-- Welcome -->
<section id="welcome" class="screen">
  <h2 id="welcomeText"></h2>
  <p class="sub">Let’s configure your experience</p>
  <button class="primary" onclick="show('role')">Continue</button>
</section>

<!-- Role -->
<section id="role" class="screen">
  <h2>Select Role</h2>
  <button class="secondary" onclick="setRole('user')">Regular User</button>
  <button class="secondary" onclick="setRole('seller')">Fuel Seller</button>
  <button id="roleBtn" class="primary" disabled onclick="start()">Continue</button>
</section>

<!-- Form -->
<section id="form" class="screen">
  <div class="progress"><div id="bar"></div></div>
  <h2 id="stepTitle"></h2>

  <!-- Step 1 -->
  <div class="form-step">
    <div class="label">Purchase location</div>
    <input name="location">
    <select name="fuelType">
      <option value="">Fuel type</option>
      <option>Petrol</option>
      <option>Diesel</option>
      <option>Not sure</option>
    </select>
    <input type="datetime-local" name="date">
    <select name="station">
      <option value="">Fuel station type</option>
      <option>Official station</option>
      <option>Private seller</option>
      <option>Roadside</option>
      <option>Not sure</option>
    </select>
  </div>

  <!-- Step 2 -->
  <div class="form-step">
    <select name="color">
      <option value="">Fuel color</option>
      <option>Clear</option>
      <option>Slightly cloudy</option>
      <option>Dark</option>
      <option>Not sure</option>
    </select>
    <select name="particles">
      <option value="">Particles / sediments</option>
      <option>Yes</option>
      <option>No</option>
      <option>Not sure</option>
    </select>
    <select name="transparency">
      <option value="">Transparency</option>
      <option>High</option>
      <option>Medium</option>
      <option>Low</option>
      <option>Not sure</option>
    </select>
  </div>

  <!-- Step 3 -->
  <div class="form-step">
    <select name="smell">
      <option value="">Smell</option>
      <option>Normal</option>
      <option>Strong</option>
      <option>Unusual / chemical</option>
      <option>Not sure</option>
    </select>
    <select name="evap">
      <option value="">Evaporation speed</option>
      <option>Fast</option>
      <option>Normal</option>
      <option>Slow</option>
      <option>Not sure</option>
    </select>
  </div>

  <!-- Step 4 -->
  <div class="form-step">
    <select name="engine">
      <option value="">Engine performance</option>
      <option>Normal</option>
      <option>Reduced power</option>
      <option>Knocking / noise</option>
      <option>Not sure</option>
    </select>
    <select name="consumption">
      <option value="">Fuel consumption</option>
      <option>Increased</option>
      <option>Normal</option>
      <option>Decreased</option>
      <option>Not sure</option>
    </select>
  </div>

  <!-- Step 5 -->
  <div class="form-step">
    <div class="upload" onclick="file.click()">
      Upload fuel image (optional)
      <input type="file" id="file" accept="image/*" hidden>
      <img id="preview">
    </div>
  </div>

  <!-- Step 6 -->
  <div class="form-step">
    <div class="label">Suspicion level</div>
    <input type="range" min="0" max="100" value="0" name="suspicion">
    <select name="confidence">
      <option value="">Confidence level</option>
      <option>Very confident</option>
      <option>Somewhat confident</option>
      <option>Not confident</option>
    </select>
  </div>

  <button class="secondary" onclick="nav(-1)">Previous</button>
  <button class="next" onclick="nav(1)">Next</button>
</section>

<!-- Result -->
<section id="result" class="screen">
  <h2>Analysis Result</h2>
  <div id="status" class="status"></div>
  <img id="resultImg" style="max-width:100%;border-radius:16px;margin-bottom:12px">
  <div class="summary" id="summary"></div>
  <button class="primary" onclick="show('splash')">New Analysis</button>
</section>

</div>

<script>
let user={name:'',role:''}
let step=0,steps=[]
let imageData=null

function show(id){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'))
  document.getElementById(id).classList.add('active')
}

function login(){
  user.name=document.getElementById('loginEmail').value.split('@')[0]||'User'
  document.getElementById('welcomeText').innerText=`Welcome, ${user.name}`
  show('welcome')
}
function signup(){
  user.name=document.getElementById('signupName').value||'User'
  document.getElementById('welcomeText').innerText=`Welcome, ${user.name}`
  show('welcome')
}

function setRole(r){
  user.role=r
  document.getElementById('roleBtn').disabled=(r!=='user')
}

function start(){
  steps=[...document.querySelectorAll('.form-step')]
  step=0
  update()
  show('form')
}

function update(){
  steps.forEach(s=>s.classList.remove('active'))
  steps[step].classList.add('active')
  document.getElementById('stepTitle').innerText=`Step ${step+1} of ${steps.length}`
  document.getElementById('bar').style.width=((step+1)/steps.length*100)+'%'
}

function nav(d){
  step+=d
  if(step<0)step=0
  if(step>=steps.length)return result()
  update()
}

file.onchange=e=>{
  const f=e.target.files[0]
  if(!f)return
  const r=new FileReader()
  r.onload=()=>{preview.src=r.result;imageData=r.result}
  r.readAsDataURL(f)
}

function result(){
  const susp=document.querySelector('[name=suspicion]').value
  const status=document.getElementById('status')
  let text,color
  if(susp<=30){text='Genuine';color='var(--green)'}
  else if(susp<=70){text='Suspicious';color='var(--yellow)'}
  else{text='Likely Fake';color='var(--red)'}
  status.style.background=color
  status.innerText=text+' ('+susp+'%)'

  let out=''
  document.querySelectorAll('input,select').forEach(i=>{
    if(i.type==='file'||i.type==='range')return
    if(i.value)out+=`<p><span>${i.name}:</span> ${i.value}</p>`
  })
  document.getElementById('summary').innerHTML=out
  if(imageData){resultImg.src=imageData}else{resultImg.style.display='none'}
  show('result')
}
</script>
</body>
</html>
